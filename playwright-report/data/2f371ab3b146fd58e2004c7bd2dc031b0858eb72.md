# Test info

- Name: Full Flow: Classroom registration and search (auth skipped) >> Register classroom and search as authenticated user
- Location: /Users/akipinnote/Downloads/2025-05-25Lovable/rhythm-find-harmony/tests/e2e/fullFlow.spec.ts:24:3

# Error details

```
Error: Timed out 5000ms waiting for expect(locator).toHaveURL(expected)

Locator: locator(':root')
Expected string: "http://localhost:3000/dashboard"
Received string: "http://localhost:3000/classroom/register"
Call log:
  - expect.toHaveURL with timeout 5000ms
  - waiting for locator(':root')
    9 Ã— locator resolved to <html lang="en">â€¦</html>
      - unexpected value "http://localhost:3000/classroom/register"

    at /Users/akipinnote/Downloads/2025-05-25Lovable/rhythm-find-harmony/tests/e2e/fullFlow.spec.ts:48:24
```

# Page snapshot

```yaml
- region "Notifications (F8)":
  - list:
    - status:
      - text: ã‚¨ãƒ©ãƒ¼ ä¸‹æ›¸ãä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚
      - button:
        - img
- banner:
  - link "Piano Search":
    - /url: /
  - navigation:
    - link "æ•™å®¤ã‚’æŽ¢ã™":
      - /url: /search
    - link "About":
      - /url: /about
    - link "ãŠå•ã„åˆã‚ã›":
      - /url: /contact
  - link "ãƒ­ã‚°ã‚¤ãƒ³":
    - /url: /auth
  - link "æ•™å®¤ã‚’æŽ²è¼‰ã™ã‚‹":
    - /url: /classroom/register
- main:
  - navigation "ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ":
    - list:
      - listitem:
        - img
        - link "ãƒ›ãƒ¼ãƒ ":
          - /url: /
      - listitem:
        - img
        - text: æ•™å®¤ç™»éŒ²
  - heading "æ•™å®¤æƒ…å ±ç™»éŒ²" [level=1]
  - paragraph: ã‚ãªãŸã®æ•™å®¤æƒ…å ±ã‚’ç™»éŒ²ã—ã¦ã€ç”Ÿå¾’ã•ã‚“ã¨ã®å‡ºä¼šã„ã‚’åºƒã’ã¾ã—ã‚‡ã†ã€‚ç™»éŒ²å¾Œã€æœˆé¡500å††ã®ãŠæ”¯æ‰•ã„ã§æƒ…å ±ãŒå…¬é–‹ã•ã‚Œã¾ã™ã€‚
  - heading "åŸºæœ¬æƒ…å ±" [level=3]:
    - img
    - text: åŸºæœ¬æƒ…å ±
  - paragraph: æ•™å®¤ã®åŸºæœ¬çš„ãªæƒ…å ±ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„
  - text: æ•™å®¤å *
  - textbox "æ•™å®¤å *": ãƒ†ã‚¹ãƒˆæ•™å®¤A
  - text: æ•™å®¤ã®èª¬æ˜Ž *
  - textbox "æ•™å®¤ã®èª¬æ˜Ž *": ã“ã‚Œã¯ãƒ†ã‚¹ãƒˆæ•™å®¤ã®èª¬æ˜Žæ–‡ã§ã™ã€‚ååˆ†ãªé•·ã•ãŒã‚ã‚Šã¾ã™ã€‚
  - text: å†™çœŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
  - img
  - paragraph: ã‚¯ãƒªãƒƒã‚¯ã¾ãŸã¯ãƒ‰ãƒ©ãƒƒã‚°ã§ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
  - paragraph: PNG, JPG (æœ€å¤§5MB)
  - heading "æ‰€åœ¨åœ°" [level=3]:
    - img
    - text: æ‰€åœ¨åœ°
  - paragraph: æ•™å®¤ã®ä½æ‰€æƒ…å ±ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„
  - text: éƒ½é“åºœçœŒ *
  - combobox "éƒ½é“åºœçœŒ *":
    - option "é¸æŠžã—ã¦ãã ã•ã„"
    - option "åŒ—æµ·é“"
    - option "é’æ£®çœŒ"
    - option "å²©æ‰‹çœŒ"
    - option "å®®åŸŽçœŒ"
    - option "ç§‹ç”°çœŒ"
    - option "å±±å½¢çœŒ"
    - option "ç¦å³¶çœŒ"
    - option "èŒ¨åŸŽçœŒ"
    - option "æ ƒæœ¨çœŒ"
    - option "ç¾¤é¦¬çœŒ"
    - option "åŸ¼çŽ‰çœŒ"
    - option "åƒè‘‰çœŒ"
    - option "æ±äº¬éƒ½" [selected]
    - option "ç¥žå¥ˆå·çœŒ"
    - option "æ–°æ½ŸçœŒ"
    - option "å¯Œå±±çœŒ"
    - option "çŸ³å·çœŒ"
    - option "ç¦äº•çœŒ"
    - option "å±±æ¢¨çœŒ"
    - option "é•·é‡ŽçœŒ"
    - option "å²é˜œçœŒ"
    - option "é™å²¡çœŒ"
    - option "æ„›çŸ¥çœŒ"
    - option "ä¸‰é‡çœŒ"
    - option "æ»‹è³€çœŒ"
    - option "äº¬éƒ½åºœ"
    - option "å¤§é˜ªåºœ"
    - option "å…µåº«çœŒ"
    - option "å¥ˆè‰¯çœŒ"
    - option "å’Œæ­Œå±±çœŒ"
    - option "é³¥å–çœŒ"
    - option "å³¶æ ¹çœŒ"
    - option "å²¡å±±çœŒ"
    - option "åºƒå³¶çœŒ"
    - option "å±±å£çœŒ"
    - option "å¾³å³¶çœŒ"
    - option "é¦™å·çœŒ"
    - option "æ„›åª›çœŒ"
    - option "é«˜çŸ¥çœŒ"
    - option "ç¦å²¡çœŒ"
    - option "ä½è³€çœŒ"
    - option "é•·å´ŽçœŒ"
    - option "ç†Šæœ¬çœŒ"
    - option "å¤§åˆ†çœŒ"
    - option "å®®å´ŽçœŒ"
    - option "é¹¿å…å³¶çœŒ"
    - option "æ²–ç¸„çœŒ"
  - text: å¸‚åŒºç”ºæ‘ *
  - textbox "å¸‚åŒºç”ºæ‘ *": æ¸‹è°·åŒº
  - text: ç•ªåœ°ãƒ»å»ºç‰©å *
  - textbox "ç•ªåœ°ãƒ»å»ºç‰©å *": 1-2-3
  - heading "é€£çµ¡å…ˆ" [level=3]:
    - img
    - text: é€£çµ¡å…ˆ
  - paragraph: ç”Ÿå¾’ã•ã‚“ãŒé€£çµ¡ã§ãã‚‹æ–¹æ³•ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„
  - text: é›»è©±ç•ªå·
  - textbox "é›»è©±ç•ªå·": 03-1234-5678
  - paragraph: å…¬é–‹ã—ãŸããªã„å ´åˆã¯ç©ºæ¬„ã§ã‚‚æ§‹ã„ã¾ã›ã‚“
  - text: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ *
  - textbox "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ *": info-teach@example.com
  - text: ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ
  - textbox "ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ": https://example.com
  - heading "ãƒ¬ãƒƒã‚¹ãƒ³æƒ…å ±" [level=3]:
    - img
    - text: ãƒ¬ãƒƒã‚¹ãƒ³æƒ…å ±
  - paragraph: ãƒ¬ãƒƒã‚¹ãƒ³ã®è©³ç´°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„
  - text: ãƒ¬ãƒƒã‚¹ãƒ³ã®ç¨®é¡ž *
  - checkbox "ãƒ”ã‚¢ãƒŽ" [checked]:
    - img
  - text: ãƒ”ã‚¢ãƒŽ
  - checkbox "ãƒªãƒˆãƒŸãƒƒã‚¯"
  - text: ãƒªãƒˆãƒŸãƒƒã‚¯
  - checkbox "ã‚½ãƒ«ãƒ•ã‚§ãƒ¼ã‚¸ãƒ¥"
  - text: ã‚½ãƒ«ãƒ•ã‚§ãƒ¼ã‚¸ãƒ¥
  - checkbox "ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«"
  - text: ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«
  - checkbox "ä½œæ›²"
  - text: ä½œæ›² å¯¾è±¡å¹´é½¢ *
  - checkbox "å¹¼å…ï¼ˆ0-6æ­³ï¼‰" [checked]:
    - img
  - text: å¹¼å…ï¼ˆ0-6æ­³ï¼‰
  - checkbox "å°å­¦ç”Ÿ"
  - text: å°å­¦ç”Ÿ
  - checkbox "ä¸­å­¦ç”Ÿ"
  - text: ä¸­å­¦ç”Ÿ
  - checkbox "é«˜æ ¡ç”Ÿ"
  - text: é«˜æ ¡ç”Ÿ
  - checkbox "å¤§äºº"
  - text: å¤§äºº
  - checkbox "ã‚·ãƒ‹ã‚¢"
  - text: ã‚·ãƒ‹ã‚¢ ãƒ¬ãƒƒã‚¹ãƒ³å¯èƒ½æ›œæ—¥ *
  - checkbox "æœˆæ›œæ—¥" [checked]:
    - img
  - text: æœˆæ›œæ—¥
  - checkbox "ç«æ›œæ—¥"
  - text: ç«æ›œæ—¥
  - checkbox "æ°´æ›œæ—¥"
  - text: æ°´æ›œæ—¥
  - checkbox "æœ¨æ›œæ—¥"
  - text: æœ¨æ›œæ—¥
  - checkbox "é‡‘æ›œæ—¥"
  - text: é‡‘æ›œæ—¥
  - checkbox "åœŸæ›œæ—¥"
  - text: åœŸæ›œæ—¥
  - checkbox "æ—¥æ›œæ—¥"
  - text: æ—¥æ›œæ—¥ ãƒ¬ãƒƒã‚¹ãƒ³æ™‚é–“å¸¯
  - textbox "ãƒ¬ãƒƒã‚¹ãƒ³æ™‚é–“å¸¯": å¹³æ—¥10:00-18:00
  - text: æ–™é‡‘ç›®å®‰ *
  - textbox "æ–™é‡‘ç›®å®‰ *": æœˆè¬8000å††ã€œ12000å††ã€å…¥ä¼šé‡‘5000å††
  - heading "è¿½åŠ æƒ…å ±" [level=3]:
    - img
    - text: è¿½åŠ æƒ…å ±
  - paragraph: ãã®ä»–ã®PRæƒ…å ±ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„
  - text: è¬›å¸«ç´¹ä»‹
  - textbox "è¬›å¸«ç´¹ä»‹"
  - text: PRãƒã‚¤ãƒ³ãƒˆ
  - textbox "PRãƒã‚¤ãƒ³ãƒˆ"
  - button "ä¸‹æ›¸ãã¨ã—ã¦ä¿å­˜"
  - paragraph: ðŸ’¡ ç„¡æ–™ã§ä¸‹æ›¸ãä¿å­˜ã§ãã¾ã™ã€‚å…¬é–‹ã¯ç®¡ç†ç”»é¢ã‹ã‚‰æœˆé¡500å††ã§ã‚¹ã‚¿ãƒ¼ãƒˆï¼
  - paragraph: ä¿å­˜å¾Œã¯ã„ã¤ã§ã‚‚ç·¨é›†ãƒ»ä¿®æ­£ãŒå¯èƒ½ã§ã™
  - link "ç®¡ç†ç”»é¢ã¸æˆ»ã‚‹":
    - /url: /dashboard
- contentinfo:
  - paragraph: Â© 2025 Piano Search. All rights reserved.
  - link "About":
    - /url: /about
  - link "åˆ©ç”¨è¦ç´„":
    - /url: /terms
  - link "ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼":
    - /url: /privacy
  - link "ãŠå•ã„åˆã‚ã›":
    - /url: /contact
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 |
   3 | test.describe('Full Flow: Classroom registration and search (auth skipped)', () => {
   4 |   let consoleMessages: string[] = [];
   5 |
   6 |   test.beforeEach(async ({ page }) => {
   7 |     // èªè¨¼ã‚’ã‚¹ã‚­ãƒƒãƒ—: E2Eãƒ•ãƒ©ã‚°ã¨Supabaseã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’localStorageã«ã‚»ãƒƒãƒˆ
   8 |     await page.addInitScript(() => {
   9 |       localStorage.setItem('e2eAuth', '1');
  10 |       localStorage.setItem('supabase.auth.token', JSON.stringify({
  11 |         access_token: 'token',
  12 |         refresh_token: 'token',
  13 |         provider_token: null,
  14 |         token_type: 'bearer',
  15 |         expires_in: 3600,
  16 |         expires_at: Math.floor(Date.now() / 1000) + 3600,
  17 |         user: { id: 'user-id', email: 'teacher@example.com' }
  18 |       }));
  19 |     });
  20 |     consoleMessages = [];
  21 |     page.on('console', msg => consoleMessages.push(`${msg.type()}: ${msg.text()}`));
  22 |   });
  23 |
  24 |   test('Register classroom and search as authenticated user', async ({ page }) => {
  25 |     // èªè¨¼æ¸ˆã¿çŠ¶æ…‹ã§ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹
  26 |     await page.goto('/dashboard');
  27 |     await expect(page).toHaveURL('/dashboard');
  28 |
  29 |     // æ•™å®¤ç™»éŒ²ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹
  30 |     await page.goto('/classroom/register');
  31 |     // ãƒ•ã‚©ãƒ¼ãƒ ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§å¾…æ©Ÿ
  32 |     await page.waitForSelector('input[placeholder="ä¾‹ï¼šã€‡ã€‡ãƒ”ã‚¢ãƒŽæ•™å®¤"]', { timeout: 10000 });
  33 |     await page.fill('input[placeholder="ä¾‹ï¼šã€‡ã€‡ãƒ”ã‚¢ãƒŽæ•™å®¤"]', 'ãƒ†ã‚¹ãƒˆæ•™å®¤A');
  34 |     await page.fill('textarea[placeholder*="æ•™å®¤ã®ç‰¹å¾´ã‚„é›°å›²æ°—"]', 'ã“ã‚Œã¯ãƒ†ã‚¹ãƒˆæ•™å®¤ã®èª¬æ˜Žæ–‡ã§ã™ã€‚ååˆ†ãªé•·ã•ãŒã‚ã‚Šã¾ã™ã€‚');
  35 |     await page.selectOption('select', 'æ±äº¬éƒ½');
  36 |     await page.fill('input[placeholder="ä¾‹ï¼šæ¸‹è°·åŒº"]', 'æ¸‹è°·åŒº');
  37 |     await page.fill('input[placeholder="ä¾‹ï¼š1-2-3 ã€‡ã€‡ãƒ“ãƒ«2F"]', '1-2-3');
  38 |     await page.fill('input[placeholder="ä¾‹ï¼š03-1234-5678"]', '03-1234-5678');
  39 |     await page.fill('input[placeholder="ä¾‹ï¼šinfo@example.com"]', 'info-teach@example.com');
  40 |     await page.fill('input[placeholder="ä¾‹ï¼šhttps://www.example.com"]', 'https://example.com');
  41 |     await page.click('label:has-text("ãƒ”ã‚¢ãƒŽ")');
  42 |     await page.click('label:has-text("å¹¼å…ï¼ˆ0-6æ­³ï¼‰")');
  43 |     await page.click('label:has-text("æœˆæ›œæ—¥")');
  44 |     await page.fill('input[placeholder="ä¾‹ï¼šå¹³æ—¥10:00-18:00ã€åœŸæ—¥10:00-15:00"]', 'å¹³æ—¥10:00-18:00');
  45 |     await page.fill('input[placeholder="ä¾‹ï¼šæœˆè¬8,000å††ã€œ12,000å††ã€å…¥ä¼šé‡‘5,000å††"]', 'æœˆè¬8000å††ã€œ12000å††ã€å…¥ä¼šé‡‘5000å††');
  46 |     // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã§ä¸‹æ›¸ãä¿å­˜
  47 |     await page.click('form >> button[type="submit"]');
> 48 |     await expect(page).toHaveURL('/dashboard');
     |                        ^ Error: Timed out 5000ms waiting for expect(locator).toHaveURL(expected)
  49 |
  50 |     // æ¤œç´¢ç”»é¢ã§æ•™å®¤ã‚’æ¤œç´¢
  51 |     await page.goto('/search');
  52 |     await page.fill('input[placeholder="æ•™å®¤åã€ã‚¨ãƒªã‚¢ã€ç‰¹å¾´ãªã©ã§æ¤œç´¢"]', 'ãƒ†ã‚¹ãƒˆæ•™å®¤A');
  53 |     await page.click('button:has-text("æ¤œç´¢")');
  54 |     await expect(page.locator('text=ãƒ†ã‚¹ãƒˆæ•™å®¤A')).toBeVisible();
  55 |
  56 |     // Assert no console errors
  57 |     const errors = consoleMessages.filter(msg => msg.startsWith('error') || msg.includes('Failed'));
  58 |     expect(errors).toEqual([]);
  59 |   });
  60 | }); 
```